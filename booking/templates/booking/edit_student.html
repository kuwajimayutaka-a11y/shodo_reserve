{% extends "base.html" %}

{% block title %}生徒編集{% endblock %}

{% block content %}
<h2>生徒編集</h2>

<div style="margin-bottom: 20px;">
    <a href="{% url 'view_students' %}" style="color: #007bff; text-decoration: none;">← 生徒情報に戻る</a>
</div>

<div style="margin: 20px 0; padding: 15px; background-color: #e7f3ff; border: 1px solid #b3d9ff; border-radius: 4px;">
    <p style="margin: 5px 0;"><strong>現在の生徒名:</strong> {{ student.name }}</p>
</div>

{% if messages %}
    {% for message in messages %}
        <div style="padding: 10px; margin: 10px 0; background-color: {% if message.tags == 'success' %}#d4edda{% elif message.tags == 'error' %}#f8d7da{% else %}#d1ecf1{% endif %}; border: 1px solid {% if message.tags == 'success' %}#c3e6cb{% elif message.tags == 'error' %}#f5c6cb{% else %}#bee5eb{% endif %}; border-radius: 4px;">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<form method="post" style="max-width: 500px; margin-top: 20px;">
    {% csrf_token %}
    
    <div style="margin-bottom: 20px;">
        <label for="{{ form.name.id_for_label }}" style="display: block; margin-bottom: 5px; font-weight: 600; color: #495057;">{{ form.name.label }}</label>
        {{ form.name }}
        {% if form.name.errors %}
            <div style="color: #dc3545; font-size: 0.9em; margin-top: 5px;">{{ form.name.errors }}</div>
        {% endif %}
    </div>

    {% if form.non_field_errors %}
        <div style="color: #dc3545; margin-bottom: 20px; padding: 10px; background-color: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px;">
            {{ form.non_field_errors }}
        </div>
    {% endif %}

    <div style="margin-top: 30px;">
        <button type="submit" style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600; margin-right: 10px;">更新</button>
        <a href="{% url 'view_students' %}" style="padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">キャンセル</a>
    </div>
</form>
{% endblock %}
