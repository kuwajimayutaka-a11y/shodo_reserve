{% extends "base.html" %}
{% block title %}æˆæ¥­æ ä¸€æ‹¬ä½œæˆ{% endblock %}

{% block content %}

<style>
    .page-title {
        font-size: 26px;
        font-weight: 700;
        margin-bottom: 25px;
        color: #2c3e50;
        text-align:center;
    }

    .back-link {
        text-decoration: none;
        color: #1e88e5;
        font-weight: 500;
        display:block;
        margin-bottom:15px;
        text-align:center;
        transition:.2s;
    }
    .back-link:hover { text-decoration: underline; }

    .form-card {
        background:white;
        border-radius:12px;
        padding:30px;
        box-shadow:0 5px 20px rgba(0,0,0,.06);
        margin:20px auto;
        max-width:750px;
    }

    .form-group { margin-bottom:22px; }

    label {
        display:block;
        font-weight:600;
        margin-bottom:6px;
        color:#34495e;
    }

    input, select, textarea {
        width:100%;
        padding:10px 12px;
        border-radius:6px;
        border:1px solid #cfd8dc;
        font-size:15px;
        transition:.2s;
    }

    input:focus, select:focus, textarea:focus {
        border-color:#1e88e5;
        box-shadow:0 0 0 3px rgba(30,136,229,.25);
        outline:none;
    }

    .grid-2 {
        display:grid;
        grid-template-columns:1fr 1fr;
        gap:22px;
    }

    .grid-auto {
        display:grid;
        grid-template-columns:repeat(auto-fit,minmax(130px,1fr));
        gap:10px;
    }

    .error-text { color:#d63031; font-size:.92em; margin-top:5px; }

    .msg { padding:12px 15px; border-radius:6px; margin-bottom:15px; font-weight:500; }
    .msg-success { background:#d4edda; border-left:5px solid #28a745; }
    .msg-error   { background:#f8d7da; border-left:5px solid #e74c3c; }
    .msg-info    { background:#d1ecf1; border-left:5px solid #17a2b8; }

    button.submit-btn {
        width:100%;
        padding:14px;
        background:#1e88e5;
        color:white;
        font-weight:700;
        border:none;
        border-radius:8px;
        cursor:pointer;
        transition:.2s;
        font-size:16px;
    }
    button.submit-btn:hover { background:#1565c0; transform:translateY(-1px); }


    /* -----------------------------
       ğŸ“± ã‚¹ãƒãƒ›ç”»é¢ç”¨æœ€é©åŒ–
    ----------------------------- */
    @media(max-width: 768px) {
        .grid-2 { grid-template-columns:1fr !important; }
        .form-card { padding:20px; }
        .page-title { font-size:22px; margin-top:10px; }
        small { font-size:13px; display:block; margin-top:5px; }
        button.submit-btn { font-size:15px; padding:12px; }
    }
</style>


<h2 class="page-title">ğŸ“… æˆæ¥­æ ä¸€æ‹¬ä½œæˆ</h2>
<a href="{% url 'admin_dashboard' %}" class="back-link">â† ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹</a>


{% if messages %}
    {% for message in messages %}
        <div class="msg 
            {% if message.tags == 'success' %}msg-success
            {% elif message.tags == 'error' %}msg-error
            {% else %}msg-info{% endif %}">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}


<div class="form-card">
<form method="post">
    {% csrf_token %}

    <div class="form-group">
        <label>{{ form.title.label }}</label>
        {{ form.title }}
        <small>â€»æœªè¨˜å…¥ãªã‚‰ã€Œæ›¸é“æ•™å®¤ã€ãŒè‡ªå‹•ä½¿ç”¨ã•ã‚Œã¾ã™</small>
        {% if form.title.errors %}<div class="error-text">{{ form.title.errors }}</div>{% endif %}
    </div>

    <div class="grid-2 form-group">
        <div>
            <label>{{ form.start_date.label }}</label>
            {{ form.start_date }}
            {% if form.start_date.errors %}<div class="error-text">{{ form.start_date.errors }}</div>{% endif %}
        </div>
        <div>
            <label>{{ form.end_date.label }}</label>
            {{ form.end_date }}
            {% if form.end_date.errors %}<div class="error-text">{{ form.end_date.errors }}</div>{% endif %}
        </div>
    </div>

    <div class="form-group">
        <label>{{ form.days_of_week.label }}</label>
        <div class="grid-auto">{{ form.days_of_week }}</div>
        {% if form.days_of_week.errors %}<div class="error-text">{{ form.days_of_week.errors }}</div>{% endif %}
    </div>

    <div class="form-group">
        <label>{{ form.time_slots.label }}</label>
        {{ form.time_slots }}
        <small>{{ form.time_slots.help_text }}</small>
        {% if form.time_slots.errors %}<div class="error-text">{{ form.time_slots.errors }}</div>{% endif %}
    </div>

    <div class="grid-2 form-group">
        <div>
            <label>{{ form.capacity.label }}</label>
            {{ form.capacity }}
            {% if form.capacity.errors %}<div class="error-text">{{ form.capacity.errors }}</div>{% endif %}
        </div>
        <div>
            <label>{{ form.reservation_start_datetime.label }}</label>
            {{ form.reservation_start_datetime }}
            {% if form.reservation_start_datetime.errors %}<div class="error-text">{{ form.reservation_start_datetime.errors }}</div>{% endif %}
        </div>
    </div>

    <small>{{ form.reservation_start_datetime.help_text }}</small>

    {% if form.non_field_errors %}
        <div class="msg msg-error" style="margin-top:15px;">
            {{ form.non_field_errors }}
        </div>
    {% endif %}

    <button type="submit" class="submit-btn" style="margin-top:25px;">ï¼‹ ä½œæˆã™ã‚‹</button>
</form>
</div>

{% endblock %}
